#!/usr/bin/env python3

import lark

def main(top):
    with (top / "grammar.lark").open() as f:
        l = lark.Lark(f.read())
    print(l.parse("let x = x;").pretty())
    for line in (top / "test1.olc").open():
        line = line.strip()
        if not line:
            continue
        print(f"==== {line}")
        parse = l.parse(line)
        print(parse.pretty())

if __name__ == '__main__':
    import pathlib
    main(pathlib.Path(__file__).parent)
